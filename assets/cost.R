#  residents = read.table("residents-data.csv")
#  providers = read.table("providers-data.csv", header=TRUE)

r_a = c(13,11,10,10,10,9,9,9,8,8,8,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,3,3,2,0,0)
r_b = c(2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
r_c = c(2,2,2,2,1,2,2,1,2,1,2,2,999,1,1,2,2,1,2,1,2,1,2,2,1,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1,2)
r_d = c(34,28,32,30,33,30,31,31,33,28,29,32,28,29,999,30,999,33,28,30,32,29,999,32,999,31,30,28,28,32,29,999,31,31,36,32,33,31,31,31,35,31,29,32,32,30,33,30)
r_e = c(3,1,3,2,3,2,3,1,3,2,2,4,1,1,2,2,3,2,1,2,1,2,3,1,2,2,2,1,1,4,1,3,3,3,2,3,2,1,2,2,3,3,2,1,3,3,1,1)
r_f = c(4,2,1,3,4,1,3,4,1,2,3,1,1,1,2,2,2,2,3,4,4,1,2,2,2,4,1,1,1,1,2,2,3,3,3,4,1,1,2,2,2,3,3,2,2,1,3,4)

accprov = factor(r_a)
survey = factor(r_b)
sex = factor(r_c)
age = factor(r_d)
year = factor(r_e)
school = factor(r_f)

res1 = data.frame(r_a, r_b, r_c, r_d, r_e, r_f)
res2 = data.frame(accprov, survey, sex, age, year, school)

p_a = c(0,0,0,3,3,3,3,3,3,4,4,4,4,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,9,9,9,9,9,9,10,10,10,12)
p_b = c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2)
p_c = c(1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,999,1,1,1,1,1,1,1,1,1,2,1,1,1,1,4,1,1,4,1,1,1,1,3,1,1,1,1,1,1,3,1,1,1,4,1,1,1)
p_d = c(1,1,1,2,1,999,1,2,1,2,1,1,2,2,2,2,2,2,1,1,2,999,2,2,2,2,1,2,1,1,2,2,2,1,2,1,2,2,2,2,1,1,2,2,1,1,1,1,1,1,2,2,1,2)
p_e = c(36,999,43,60,39,66,61,999,41,50,62,33,31,33,58,50,48,999,74,999,65,999,55,50,999,36,62,35,999,999,60,37,43,37,54,999,33,29,34,999,70,40,999,31,999,999,999,34,62,41,57,50,999,999)
p_f = c(4,13,9,20,8,38,30,18,12,19,30,2,5,4,20,12,18,2,40,9,35,999,21,18,6,3,30,5,4,10,20,6,13,3,6.5,20,1.5,1,5,7,40,9,8,1,20,12,7,3,32,9,26,15,1,7)
p_g = c(1,999,1,1,2,1,1,1,1,1,1,2,1,1,1,2,2,1,1,1,2,999,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,1,1,1,1,2)
p_h = c(1,1,3,1,2,3,3,3,3,1,1,2,3,1,2,3,3,3,1,3,3,3,3,3,1,1,1,1,1,1,1,2,2,3,3,3,3,1,3,3,3,3,3,3,1,1,3,3,3,3,1,3,3,1)
p_i = c(1,2,2,1,1,1,1,1,1,1,1,6,1,2,5,1,1,1,5,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,4,1,1,1,999,1,1,1,2,1,1,1,1,1)
p_j = c(4,999,999,999,6,3,2,7,6,7,2,7,4,999,999,5,6,6,999,4,5,999,5,7,6,4,5,7,2,6,6,2,7,4,3,4,3,999,4,5,999,4,7,3,999,5,3,999,5,6,999,999,4,2)
p_k = c(999,999,999,999,999,4,4,999,999,999,4,999,999,999,999,999,999,999,999,999,999,999,999,999,999,7,999,999,7,999,999,4,999,999,4,999,4,999,999,999,999,999,999,999,999,999,5,999,999,999,999,999,999,3)
p_l = c(999,999,999,999,999,7,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,999,5)

accprov = factor(p_a)
survey = factor(p_b)
professional = factor(p_c)
sex = factor(p_d)
age = factor(p_e)
years = factor(p_f)
medicaid = factor(p_g)
collection = factor(p_h)
practice1 = factor(p_i)
practice2 = factor(p_j)
practice3 = factor(p_k)
practice4 = factor(p_l)

#  prov1 = data.frame(p_a, p_b, p_c, p_d, p_e, p_f, p_g, p_h, p_i, p_j, p_k, p_l)
#  prov2 = data.frame(accprov, survey, professional, sex, age, years, medicaid, collection, practice1, practice2, practice3, practice4)

#  MANOVA example
#  https://stat.ethz.ch/R-manual/R-devel/library/stats/html/summary.manova.html
tear <- c(6.5, 6.2, 5.8, 6.5, 6.5, 6.9, 7.2, 6.9, 6.1, 6.3,
          6.7, 6.6, 7.2, 7.1, 6.8, 7.1, 7.0, 7.2, 7.5, 7.6)
gloss <- c(9.5, 9.9, 9.6, 9.6, 9.2, 9.1, 10.0, 9.9, 9.5, 9.4,
           9.1, 9.3, 8.3, 8.4, 8.5, 9.2, 8.8, 9.7, 10.1, 9.2)
opacity <- c(4.4, 6.4, 3.0, 4.1, 0.8, 5.7, 2.0, 3.9, 1.9, 5.7,
             2.8, 4.1, 3.8, 1.6, 3.4, 8.4, 5.2, 6.9, 2.7, 1.9)
Y <- cbind(tear, gloss, opacity)
rate     <- gl(2,10, labels = c("Low", "High"))
additive <- gl(2, 5, length = 20, labels = c("Low", "High"))

fit <- manova(Y ~ rate * additive)
summary.aov(fit)             # univariate ANOVA tables
summary(fit, test = "Wilks") # ANOVA table of Wilks' lambda
summary(fit)                # same F statistics as single-df terms


#  chi-square example
#  http://www.r-tutor.com/elementary-statistics/goodness-fit/chi-squared-test-independence
#library(MASS)
#tbl = table(survey$Smoke, survey$Exer)
#chisq.test(tbl)
#ctbl = cbind(tbl[,"Freq"], tbl[,"None"] + tbl[,"Some"])
